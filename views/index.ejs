<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TumnataMreja ‚Äì Market</title>
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="icon" href="data:image/svg+xml,... (—Ç–≤–æ—è data-URI –∑–∞ –∏–∫–æ–Ω–∞—Ç–∞)" />
</head>
<body>
  <!-- Matrix background -->
  <div class="matrix-bg" id="matrixBg"></div>

  <!-- HEADER / NAV -->
  <header>
    <nav class="container nav-bar">
      <div class="logo glitch" data-text="">
        <img
          src="https://i.postimg.cc/nL66r5Kh/logo.png"
          alt="logo"
          class="logo-img"
        />
      </div>
      <div class="nav-links">
        <a href="/">–ù–ê–ß–ê–õ–û</a>
        <% if (user) { %>
          <a href="/dashboard">–°–ò–°–¢–ï–ú–ê</a>
          <a href="/logout">–ò–ó–•–û–î</a>
          <span class="user-badge">
            USER: <%= user.username.toUpperCase() %>
          </span>
        <% } else { %>
          <a href="/login">üîí LOGIN</a>
          <a href="/register" class="btn register-btn">‚ûï REGISTER</a>
        <% } %>
      </div>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="container main-content">
    <!-- Auth prompt -->
    <% if (!user) { %>
      <section class="auth-prompt">
        <h1>‚ö†Ô∏è –†–ï–ì–ò–°–¢–†–ò–†–ê–ô –°–ï ‚Äì NO KYC ‚ö†Ô∏è</h1>
        <p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –µ –¥–∞ –∏–º–∞—à —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∑–∞ –¥–∞ —Ä–∞–∑–≥–ª–µ–∂–¥–∞—à –∏ –∫—É–ø—É–≤–∞—à.</p>
        <div class="auth-buttons">
          <a href="/login" class="btn">üîí LOGIN</a>
          <a href="/register" class="btn">‚ûï REGISTER</a>
        </div>
      </section>
    <% } %>

    <!-- Product list -->
    <section class="products-section">
      <h1 class="section-title">üìñ –ü–†–û–î–£–ö–¢–ò</h1>
      <div class="products-grid">
        <% products.forEach(p => { %>
          <div class="product-card">
            <img src="<%= p.image %>" alt="<%= p.name %>" />
            <h3><%= p.name %></h3>
            <p class="desc"><%= p.description %></p>
            <p class="price"><%= p.price.toFixed(2) %> –ª–≤.</p>
            <% if (user) { %>
              <form action="/buy/<%= p.id %>" method="POST" class="buy-form">
                <input type="number" name="quantity" value="1" min="1" />
                <button type="submit">üõí –ö—É–ø–∏</button>
              </form>
            <% } else { %>
              <button class="btn disabled" onclick="alert('–ú–æ–ª—è –≤–ª–µ–∑—Ç–µ, –∑–∞ –¥–∞ –∫—É–ø—É–≤–∞—Ç–µ')">
                üîí
              </button>
            <% } %>
          </div>
        <% }) %>
      </div>
    </section>

    <!-- HERO / BANNER -->
    <section class="hero-section">
      <img
        src="https://i.postimg.cc/zX8YT9sL/banner.png"
        alt="banner"
        class="hero-banner"
      />
      <div class="hero-features">
        <span>üîí ANONYMOUS</span>
        <span>‚ö° –ù–ï–ó–ê–ë–ê–í–ù–û</span>
        <span>üíÄ UNTRACEABLE</span>
        <span>üåê 24/7 ONLINE</span>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p>¬© 2025 TUMNATAMREJA | ANONYMOUS ‚Ä¢ SECURE ‚Ä¢ UNTRACEABLE</p>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // Matrix rain effect
    function createMatrix() {
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      const matrixBg = document.getElementById('matrixBg');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      matrixBg.appendChild(canvas);
      const chars = '01';
      const fontSize = 10;
      const columns = Math.floor(canvas.width / fontSize);
      const drops = Array(columns).fill(0);

      function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00ff00';
        ctx.font = fontSize + 'px monospace';

        drops.forEach((y, i) => {
          const text = chars[Math.floor(Math.random() * chars.length)];
          ctx.fillText(text, i * fontSize, y * fontSize);
          drops[i] = y * fontSize > canvas.height && Math.random() > 0.975
            ? 0
            : y + 1;
        });
      }

      setInterval(draw, 50);
    }

    window.addEventListener('load', createMatrix);

    // Glitch effect
    setInterval(() => {
      document.querySelectorAll('.glitch').forEach(el => {
        if (Math.random() > 0.9) {
          el.style.animation = 'none';
          setTimeout(() => {
            el.style.animation = 'glitch 0.3s linear';
          }, 20);
        }
      });
    }, 2000);
  </script>
</body>
</html>
